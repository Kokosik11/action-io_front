var K=Object.defineProperty,q=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var R=(r,a,s)=>a in r?K(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,b=(r,a)=>{for(var s in a||(a={}))W.call(a,s)&&R(r,s,a[s]);if(V)for(var s of V(a))X.call(a,s)&&R(r,s,a[s]);return r},y=(r,a)=>q(r,z(a));import{j as J,r as n,L as P,s as c,b as O,u as M,S as _,R as I,a as $,c as ee,B as te}from"./vendor.d4031259.js";const se=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&d(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}};se();const re=r=>{let a=document.cookie.match(new RegExp("(?:^|; )"+r.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return a?decodeURIComponent(a[1]):void 0},L=(r,a,s={})=>{s=b({path:"/"},s),s.expires instanceof Date&&(s.expires=s.expires.toUTCString());let d=encodeURIComponent(r)+"="+encodeURIComponent(a);for(let o in s){d+="; "+o;let i=s[o];i!==!0&&(d+="="+i)}document.cookie=d},ie=r=>{L(r,"",{"max-age":-1})};var F={getCookie:re,setCookie:L,deleteCookie:ie};var G="data:image/png;base64,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",ae="./assets/unknown-avatar.16fe43d3.png";const e=J.exports.jsx,t=J.exports.jsxs,D=r=>{const[a,s]=n.exports.useState();return n.exports.useEffect(()=>{let d=JSON.parse(localStorage.getItem("currentUser"));s(d.username)},[]),t("div",{className:"Header",children:[t(P,{to:"/",className:"Logo",children:[e("img",{src:G,alt:"Logo"}),e("h1",{children:"Action.io"})]}),r.back&&e(P,{to:`/user/${r.back}`,children:"Back"}),t("div",{className:"user-details",children:[t("div",{className:"welcome-phrase",children:["Lets do this, ",e("button",{children:a})]}),e("img",{className:"avatar",src:r.avatar?r.avatar:ae,alt:"avatar"})]})]})};var Z="./assets/Edit-Square.14a84e7c.svg";const ne=r=>{const[a,s]=n.exports.useState([]);n.exports.useEffect(()=>{let i=JSON.parse(localStorage.getItem("currentUser"));i.projects&&s([...i.projects])},[]);const d=new Date,o=i=>{let p=Math.trunc((d-new Date(i))/1e3/60/60);return p>24*30?t("span",{children:[Math.trunc(p/24/30)," months after"]}):p>24*7?t("span",{children:[Math.trunc(p/24/7)," weeks after"]}):p>24?t("span",{children:[Math.trunc(p/24)," days after"]}):t("span",{children:[p," hours after"]})};return e("div",{className:"actionplace",children:t("div",{className:"actionplace-content",children:[e("div",{className:"action-create",children:t("button",{onClick:()=>r.handleButtonClick(3),children:[e("img",{src:Z,alt:"Edit Square icon"}),"Add project"]})}),a&&a.map(i=>t(P,{to:`/project/${i.id}`,className:"Action",children:[t("div",{className:"action-heading",children:[t("div",{className:"daylefts",children:[e("div",{className:"circle red"}),e("div",{className:"daylefts-content",children:o(i.atCreated)})]}),t("div",{className:"action-title",children:[e("h2",{children:i.title}),e("div",{className:"description",children:i.description})]})]}),t("div",{className:"mini-statistic",children:["Actions: ",i.actions.length]})]},i.id))]})})},ce=r=>{const[a,s]=n.exports.useState([...r.searchProjects]);n.exports.useEffect(()=>{s(r.searchProjects)},[r.searchProjects]);const d=new Date,o=i=>{let p=Math.trunc((d-new Date(i))/1e3/60/60);return p>24*30?t("span",{children:[Math.trunc(p/24/30)," months after"]}):p>24*7?t("span",{children:[Math.trunc(p/24/7)," weeks after"]}):p>24?t("span",{children:[Math.trunc(p/24)," days after"]}):t("span",{children:[p," hours after"]})};return e("div",{className:"actionplace",children:e("div",{className:"actionplace-content",children:a&&a.map(i=>t(P,{to:`/project/${i.id}`,className:"Action",children:[t("div",{className:"daylefts",children:[e("div",{className:"circle red"}),e("div",{className:"daylefts-content",children:o(i.atCreated)})]}),t("div",{className:"action-title",children:[e("h2",{children:i.title}),e("div",{className:"description",children:i.description})]}),e("div",{className:"mini-statistic",children:i.actions.length})]},i.id))})},r.searchProjects)};const oe=()=>{const[r,a]=n.exports.useState([]);return n.exports.useEffect(()=>{let s=JSON.parse(localStorage.getItem("users")),d=JSON.parse(localStorage.getItem("currentUser")),o=s.filter(i=>i.id!==d.id);a([...o])},[]),e("div",{className:"actionplace",children:e("div",{className:"actionplace-content",children:r.map(s=>t(P,{to:`/user/${s.id}`,className:"users-action",children:[e("h2",{children:s.username}),t("div",{children:["Projects: ",s.projects.length]})]},s.id))})})};const le=()=>e("div",{children:e("h2",{children:"In developing"})});const de=r=>{const[a,s]=n.exports.useState(""),[d,o]=n.exports.useState(""),[i,p]=n.exports.useState([]),[N,h]=n.exports.useState(""),[u,S]=n.exports.useState(!1),[f,v]=n.exports.useState({});n.exports.useEffect(()=>{let g=JSON.parse(localStorage.getItem("currentUser"));v(g)},[]);const x=()=>{let g={id:c.generate(),title:"",isCompleted:!1};p([g,...i])},k=g=>{let j=i.map(A=>A.id===g&&y(b({},A),{isCompleted:!A.isCompleted})||A);p([...j])},B=(g,j)=>{let A=i.map(E=>E.id===g&&y(b({},E),{title:j})||E);p([...A])},T=g=>{if(g.preventDefault(),S(!0),h(""),!a)return h("Project Title is required");if(!d)return h("Project Description is required");let j={id:c.generate(),title:a,description:d,actions:i&&[...i]||[],author:f.username,atCreated:Date()};f.projects?v(A=>y(b({},A),{projects:[...A.projects,j]})):v(A=>y(b({},A),{projects:[j]}))};return n.exports.useEffect(()=>{localStorage.setItem("currentUser",JSON.stringify(f));let g=JSON.parse(localStorage.getItem("users"));for(let j=0;j<g.length;j++)g[j].id===f.id&&(g[j]=f);localStorage.setItem("users",JSON.stringify(g)),console.log(f)},[f]),t("div",{className:"create-project",children:[e("h2",{children:"Create project"}),t("div",{className:"create-project_content",children:[e("div",{className:"ErrorMessage",children:N}),e("input",{type:"text",placeholder:"Project title...",id:"projectTitle",name:"projectTitle",onChange:g=>s(g.target.value)}),e("textarea",{type:"text",placeholder:"Project description...",id:"projectDescription",name:"projectDescription",onChange:g=>o(g.target.value)}),t("div",{className:"project-action",children:[t("div",{className:"project-action_heading",children:[e("div",{className:"project-action_title",children:"Project actions"}),e("button",{className:"project-action_add",onClick:()=>x(),children:"+"})]}),e("div",{className:"project-action_placement",children:i.map(g=>t("div",{className:"project-action_new-action",children:[e("input",{type:"text",placeholder:"Action title...",id:"action",name:"action",onChange:j=>B(g.id,j.target.value)}),e("input",{type:"checkbox",name:"isCompleted",id:"isCompleted",checked:g.isCompleted?"checked":"",onChange:()=>k(g.id)})]},g.id))})]}),e("button",{onClick:T,children:"Create project"})]})]})};var ue="./assets/Search.f36b8e7a.svg";const pe=r=>{const[a,s]=n.exports.useState(0),[d,o]=n.exports.useState(""),[i,p]=n.exports.useState([]),[N,h]=n.exports.useState([]);n.exports.useEffect(()=>{let f=JSON.parse(localStorage.getItem("currentUser"));f.projects&&p([...f.projects])},[]);const u=f=>{s(f)},S=f=>{o(f.target.value)};return n.exports.useEffect(()=>{if(i){const f=d.toLowerCase(),v=i.filter(x=>x.title.toLowerCase().search(f)!==-1);console.log(v),h([...v])}},[d]),e("div",{className:"content",children:t("div",{className:"Tabs",children:[t("div",{className:"tabHeader",children:[t("div",{className:"navigation",children:[e("button",{onClick:()=>{u(0)},className:a===0&&"tab-button tab-button_active"||"tab-button",children:"My Projects"}),e("button",{onClick:()=>{u(1)},className:a===1&&"tab-button tab-button_active"||"tab-button",children:"Users"}),e("button",{onClick:()=>{u(2)},className:a===2&&"tab-button tab-button_active"||"tab-button",children:"Current Project"})]}),t("div",{className:"search",children:[e("img",{src:ue,alt:"Search icon"}),e("input",{type:"text",placeholder:"Discover",value:d,onChange:S})]})]}),e("div",{className:"component-papper",children:d&&e(ce,{searchProjects:N})||a===0&&e(ne,{handleButtonClick:u})||a===1&&e(oe,{})||a===2&&e(le,{})||a===3&&e(de,{handleButtonClick:u})})]})})};const he=({isUserAuthenticated:r})=>(n.exports.useEffect(()=>{r()},[]),t("div",{className:"main-wrapper",children:[e(D,{}),e(pe,{})]}));const me=()=>{const[r,a]=n.exports.useState(""),[s,d]=n.exports.useState(""),[o,i]=n.exports.useState(""),p=()=>{window.location="/"};return t("div",{className:"Login",children:[e("div",{className:"ErrorMessage",children:r}),t("div",{children:[e("label",{htmlFor:"username",children:"Your username"}),e("input",{type:"text",name:"username",id:"username",value:s,onChange:h=>d(h.target.value)})]}),t("div",{children:[e("label",{htmlFor:"password",children:"Your password"}),e("input",{type:"password",name:"password",id:"password",value:o,onChange:h=>i(h.target.value)})]}),e("button",{className:"LoginBtn",onClick:()=>{if(a(""),!s)return a("Username is empty");if(!o)return a("Password is empty");const h=JSON.parse(localStorage.getItem("users"));if(!h)return a("This username is not a valid");for(let u=0;u<h.length;u++)h[u].username===s&&h[u].cryptoPass&&O.compareSync(o,h[u].cryptoPass[1])&&(F.setCookie("user",h[u].id,{"max-age":3600}),localStorage.setItem("currentUser",JSON.stringify(h[u])),p());return a("Password is not valid")},children:"Log in"})]})},ge=r=>{let a=O.genSaltSync(10),s=O.hashSync(r,a);return[a,s]},fe=({isSingUpConfirmed:r})=>{const[a,s]=n.exports.useState(!1),[d,o]=n.exports.useState(""),[i,p]=n.exports.useState(""),[N,h]=n.exports.useState(""),[u,S]=n.exports.useState("");return t("div",{className:"Signup",children:[e("div",{className:"ErrorMessage",children:d}),t("div",{children:[e("label",{htmlFor:"username",children:"Your username"}),e("input",{type:"text",name:"username",id:"username",onChange:v=>p(v.target.value)})]}),t("div",{children:[e("label",{htmlFor:"password",children:"Your password"}),e("input",{type:"password",name:"password",id:"password",onChange:v=>h(v.target.value)})]}),t("div",{children:[e("label",{htmlFor:"repeatpass",children:"Repeat your password"}),e("input",{type:"password",name:"repeatpass",id:"repeatpass",onChange:v=>S(v.target.value)})]}),e("button",{className:"LoginBtn",onClick:()=>{if(o(""),s(!0),!i)return s(!1),o("Please enter your username");if(N===u){let v=JSON.parse(localStorage.getItem("users")),x=ge(N);if(!v)return localStorage.setItem("users",JSON.stringify([{id:c.generate(),username:i,cryptoPass:x}])),s(!1),o(""),r();for(let k=0;k<v.length;k++)if(v[k].username===i)return s(!1),console.log(v.username),o("Username already exists");return v.push({id:c.generate(),username:i,cryptoPass:x}),localStorage.setItem("users",JSON.stringify(v)),s(!1),o(""),r()}else return s(!1),o("Your repeated password is incorrect")},children:a?"Waiting...":"Sign up"})]})},ve=r=>t("div",{children:[t("div",{className:"is-content",children:[e("div",{className:"line"}),e("div",{className:"IsNotAuth",children:"if not sign up?"}),e("div",{className:"line"})]}),e("button",{className:"SignupBtn second-btn",onClick:r.handle,children:"Create account"})]}),Ce=r=>t("div",{children:[t("div",{className:"is-content",children:[e("div",{className:"line"}),e("div",{className:"IsNotAuth",children:"Already sign up?"}),e("div",{className:"line"})]}),e("button",{className:"LoginBtn second-btn",onClick:r.handle,children:"Log in"})]}),Ne=()=>{const[r,a]=n.exports.useState(!1),s=()=>{a(!1)},d=()=>{a(o=>!o)};return e("div",{className:"AuthForm",children:t("div",{className:"Form",children:[t("div",{className:"heading",children:[e("img",{src:G,alt:"Logo"}),e("h1",{children:"Action.io"})]}),t("div",{className:"FormContent",children:[r&&e(fe,{isSingUpConfirmed:s})||e(me,{}),r&&e(Ce,{handle:d})||e(ve,{handle:d})]})]})})};const Se=({action:r,handleChangeActionCompleted:a,handleActionSave:s,handleActionDelete:d})=>{const[o,i]=n.exports.useState(!1),[p,N]=n.exports.useState(r.title),h=()=>{i(u=>!u)};return o&&t("div",{className:"action action-item",children:[e("div",{className:"action-forms",children:e("input",{type:"text",placeholder:"Title",value:p,onChange:u=>N(u.target.value)})}),t("div",{className:"action-btns",children:[e("button",{onClick:()=>{s(r.id,p),h()},children:"Save"}),e("button",{onClick:h,children:"Cancel"}),e("button",{onClick:()=>d(r.id),children:"Delete"})]})]})||t("div",{className:"action action-item",children:[t("div",{className:"action-item_content",children:[e("h4",{children:r.title}),e("input",{type:"checkbox",id:"isCompleted_"+r.id,checked:r.isCompleted&&"checked"||"",onChange:()=>a(r.id)}),e("label",{htmlFor:"isCompleted_"+r.id,children:" completed"})]}),e("div",{className:"action-edit_button",children:e("button",{onClick:h,children:"Edit"})})]})},je=r=>{const{id:a}=M(),[s,d]=n.exports.useState(),[o,i]=n.exports.useState(0),[p,N]=n.exports.useState(!1),[h,u]=n.exports.useState(!1),[S,f]=n.exports.useState(),[v,x]=n.exports.useState(),[k,B]=n.exports.useState(""),[T,g]=n.exports.useState(!1);n.exports.useEffect(()=>{r.isUserAuthenticated()},[]),n.exports.useEffect(()=>{JSON.parse(localStorage.getItem("currentUser")).projects.forEach(C=>{if(C.id===a)return d(C)})},[]),n.exports.useEffect(()=>{if(s){let l=JSON.parse(localStorage.getItem("currentUser"));for(let m=0;m<l.projects.length;m++)l.projects[m].id===a&&(l.projects[m]=s);localStorage.setItem("currentUser",JSON.stringify(l));let C=JSON.parse(localStorage.getItem("users"));for(let m=0;m<C.length;m++)C[m].id===l.id&&(C[m]=l);localStorage.setItem("users",JSON.stringify(C)),f(s.title),x(s.description)}},[s]),n.exports.useEffect(()=>{s&&(i(0),s.actions.forEach(l=>{l.isCompleted&&i(C=>++C)}))},[s]);const j=l=>{console.log("checked");let C=s.actions.map(m=>m.id===l&&y(b({},m),{isCompleted:!m.isCompleted})||m);console.log(C),d(m=>y(b({},m),{actions:[...C]})),console.log(s)},A=()=>{N(l=>!l)},E=()=>{k&&(d(l=>y(b({},l),{actions:[{id:c.generate(),title:k,isCompleted:T},...l.actions]})),A())},Q=(l,C)=>{s.actions.forEach(m=>{m.id===l&&(m.title=C,d(w=>y(b({},w),{actions:[...w.actions]})))})},Y=()=>{if(s){let l=JSON.parse(localStorage.getItem("currentUser")),C=l.projects.filter(w=>w.id!==s.id);l.projects=[...C],localStorage.setItem("currentUser",JSON.stringify(l));let m=JSON.parse(localStorage.getItem("users"));for(let w=0;w<m.length;w++)m[w].id===l.id&&(m[w]=l);localStorage.setItem("users",JSON.stringify(m)),window.location="/"}},H=l=>{let C=s.actions.filter(m=>m.id!==l);d(m=>y(b({},m),{actions:[...C]}))},U=()=>{u(l=>!l)};return s&&t("div",{className:"Project",children:[e(D,{}),t("div",{className:"project-content",children:[h&&t("div",{className:"project-header",children:[e("label",{htmlFor:"projectTitle",children:"Title: "}),e("input",{type:"text",placeholder:"Project title...",id:"projectTitle",name:"projectTitle",value:S,onChange:l=>f(l.target.value)}),e("label",{htmlFor:"projectDescription",children:"Description: "}),e("textarea",{type:"text",placeholder:"Project description...",id:"projectDescription",name:"projectDescription",value:v,onChange:l=>x(l.target.value)}),t("div",{className:"project-btns",children:[t("div",{className:"project-btns_left",children:[e("button",{onClick:()=>{(S||v)&&(d(l=>(l.title=S,l.description=v,b({},l))),U())},children:"Save"}),e("button",{onClick:U,children:"Cancel"})]}),e("div",{className:"project-btns_right",children:e("button",{onClick:Y,children:"Delete"})})]})]})||t("div",{className:"project-header",children:[t("div",{className:"project-heading",children:[t("div",{className:"project-left",children:[e("h3",{children:s.title}),e("div",{className:"project-description",children:s.description})]}),e("div",{className:"project-right",children:e("button",{onClick:U,children:"Edit"})})]}),t("div",{className:"project-progress_content",children:[t("div",{className:"project-progress",children:[e("div",{className:"project-progress-bar",style:{width:`${o/s.actions.length*100}%`}}),t("span",{className:"project-progress-percent",children:[Math.round(o/s.actions.length*100)||0,"%"]})]}),t("div",{className:"project-progress_number",children:["Completed actions: ",o,"/",s.actions.length]})]})]}),t("div",{className:"project-actions",children:[p&&t("div",{className:"action action-add",children:[t("div",{className:"action-forms",children:[e("input",{type:"text",placeholder:"Title",value:k,onChange:l=>B(l.target.value)}),t("div",{className:"iscompleted",children:[e("input",{id:"isCompleted",type:"checkbox",checked:T&&"checked",onChange:()=>g(l=>!l)}),e("label",{htmlFor:"isCompleted",children:"is completed"})]})]}),t("div",{className:"action-btns",children:[e("button",{onClick:E,children:"Add"}),e("button",{onClick:A,children:"Cancel"})]})]})||e("div",{className:"action action-create",children:t("button",{onClick:A,children:[e("img",{src:Z,alt:"Edit Square icon"}),"Add action"]})}),s.actions&&s.actions.map(l=>e(Se,{action:l,handleChangeActionCompleted:j,handleActionSave:Q,handleActionDelete:H},l.id))]})]})]})||e("h1",{children:"Project not found"})};const Ae=r=>{const{id:a}=M(),[s,d]=n.exports.useState(),[o,i]=n.exports.useState([]);n.exports.useEffect(()=>{r.isUserAuthenticated()},[]),n.exports.useEffect(()=>{JSON.parse(localStorage.getItem("users")).forEach(u=>{u.id===a&&(d(u),i([...u.projects]))})},[]);const p=new Date,N=h=>{let u=Math.trunc((p-new Date(h))/1e3/60/60);return u>24*30?t("span",{children:[Math.trunc(u/24/30)," months after"]}):u>24*7?t("span",{children:[Math.trunc(u/24/7)," weeks after"]}):u>24?t("span",{children:[Math.trunc(u/24)," days after"]}):t("span",{children:[u," hours after"]})};return s&&t("div",{className:"user",children:[e(D,{}),e("h3",{children:s.username}),e("div",{className:"actionplace",children:e("div",{className:"actionplace-content",children:o&&o.map(h=>t(P,{to:`/user/${s.id}/project/${h.id}`,className:"Action",children:[t("div",{className:"action-heading",children:[t("div",{className:"daylefts",children:[e("div",{className:"circle red"}),e("div",{className:"daylefts-content",children:N(h.atCreated)})]}),t("div",{className:"action-title",children:[e("h2",{children:h.title}),e("div",{className:"description",children:h.description})]})]}),t("div",{className:"mini-statistic",children:["Actions: ",h.actions.length]})]},h.id))})})]})||e("h1",{children:"Page not found"})},be=({action:r})=>e("div",{className:"action action-item",children:t("div",{className:"action-item_content",children:[e("h4",{children:r.title}),e("input",{type:"checkbox",id:"isCompleted_"+r.id,defaultChecked:r.isCompleted&&"checked"||"",disabled:"disabled"}),e("label",{htmlFor:"isCompleted_"+r.id,children:" completed"})]})}),ye=r=>{const{id:a,projectId:s}=M(),[d,o]=n.exports.useState(),[i,p]=n.exports.useState(),[N,h]=n.exports.useState(0);return n.exports.useEffect(()=>{r.isUserAuthenticated()},[]),n.exports.useEffect(()=>{JSON.parse(localStorage.getItem("users")).forEach(S=>{S.id===a&&(o(S),S.projects.forEach(f=>{f.id===s&&p(f)}))})},[]),n.exports.useEffect(()=>{i&&(h(0),i.actions.forEach(u=>{u.isCompleted&&h(S=>++S)}))},[i]),i&&t("div",{className:"Project",children:[e(D,{back:d.id}),t("div",{className:"project-content",children:[t("div",{className:"project-header",children:[e("div",{className:"project-heading",children:t("div",{className:"project-left",children:[e("h3",{children:i.title}),e("div",{className:"project-description",children:i.description})]})}),t("div",{className:"project-progress_content",children:[t("div",{className:"project-progress",children:[e("div",{className:"project-progress-bar",style:{width:`${N/i.actions.length*100}%`}}),t("span",{className:"project-progress-percent",children:[Math.round(N/i.actions.length*100)||0,"%"]})]}),t("div",{className:"project-progress_number",children:["Completed actions: ",N,"/",i.actions.length]})]})]}),e("div",{className:"project-actions",children:i.actions&&i.actions.map(u=>e(be,{action:u},u.id))})]})]})||e("h1",{children:"Project not found"})};function xe(){n.exports.useEffect(()=>{F.getCookie("user")||localStorage.removeItem("currentUser")},[]);const r=()=>{document.cookie||(window.location="/auth")};return n.exports.useEffect(()=>{if(!JSON.parse(localStorage.getItem("users"))){let a=[{id:c.generate(),username:"Konstantin",projects:[{id:c.generate(),title:"Create Action.io",description:"Action.io development plan",atCreated:Date.now(),author:"Konstantin",actions:[{id:c.generate(),title:"Develop an idea",isCompleted:!0},{id:c.generate(),title:"Make a design",isCompleted:!0},{id:c.generate(),title:"Pick up a stack",isCompleted:!0},{id:c.generate(),title:"Start development",isCompleted:!0},{id:c.generate(),title:"Upload to github",isCompleted:!1}]},{id:c.generate(),title:"Test",description:"Test project",atCreated:Date.now(),author:"Konstantin",actions:[{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!0},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!1},{id:c.generate(),title:"Test",isCompleted:!1}]}]},{id:c.generate(),username:"Vasya",projects:[{id:c.generate(),title:"Grocery list",description:"I need to go to the store",atCreated:Date.now(),author:"Vasya",actions:[{id:c.generate(),title:"Buy milk",isCompleted:!0},{id:c.generate(),title:"Buy bread",isCompleted:!0},{id:c.generate(),title:"Buy cigarettes",isCompleted:!0},{id:c.generate(),title:"Buy water",isCompleted:!0},{id:c.generate(),title:"Buy pasta",isCompleted:!1},{id:c.generate(),title:"Buy a loaf",isCompleted:!1},{id:c.generate(),title:"Buy butter",isCompleted:!1},{id:c.generate(),title:"Buy cola",isCompleted:!1}]},{id:c.generate(),title:"Grocery list 2",description:"I need to go to the store",atCreated:Date.now(),author:"Vasya",actions:[{id:c.generate(),title:"Buy milk",isCompleted:!0},{id:c.generate(),title:"Buy bread",isCompleted:!0},{id:c.generate(),title:"Buy water",isCompleted:!0},{id:c.generate(),title:"Buy pasta",isCompleted:!1},{id:c.generate(),title:"Buy cola",isCompleted:!1}]},{id:c.generate(),title:"Grocery list 3",description:"I need to go to the store",atCreated:Date.now(),author:"Vasya",actions:[{id:c.generate(),title:"Buy cigarettes",isCompleted:!0},{id:c.generate(),title:"Buy water",isCompleted:!0},{id:c.generate(),title:"Buy pasta",isCompleted:!1},{id:c.generate(),title:"Buy a loaf",isCompleted:!1},{id:c.generate(),title:"Buy butter",isCompleted:!1},{id:c.generate(),title:"Buy cola",isCompleted:!1}]}]}];localStorage.setItem("users",JSON.stringify(a))}},[]),e("div",{className:"App",children:t(_,{children:[e(I,{exact:!0,path:"/",children:e(he,{isUserAuthenticated:r})}),e(I,{path:"/auth",children:e(Ne,{})}),e(I,{path:"/project/:id",children:e(je,{isUserAuthenticated:r})}),e(I,{path:"/user/:id/project/:projectId",children:e(ye,{isUserAuthenticated:r})}),e(I,{path:"/user/:id",children:e(Ae,{isUserAuthenticated:r})}),e(I,{children:e("h1",{children:"Page not found"})})]})})}$.render(e(ee.StrictMode,{children:e(te,{forceRefresh:!0,children:e(xe,{})})}),document.getElementById("root"));
